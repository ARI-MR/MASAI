<?xml version="1.0" encoding="utf-8" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd"><svg xmlns="http://www.w3.org/2000/svg" width="670" height="455" xmlns:xlink="http://www.w3.org/1999/xlink"><source><![CDATA[participant run.sh as S
participant Cepheus Broker as LB
participant Cepheus CEP as CEP

S->CEP: POST /admin/config
CEP->LB: subscribe(Room.*)
S->LB: update(Room11, 22°)
LB->CEP: notify(Room11, 22°)
S->LB: update(Room12, 24°)
LB->CEP: notify(Room12, 24°)
Note over CEP: computes floor average
CEP->LB: update(Floor1, 23°)]]></source><desc>Created with Raphaël 2.1.2</desc><defs><path id="raphael-marker-block" d="M5,0 0,2.5 5,5z" stroke-linecap="round"></path><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj2858"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj2861"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj2864"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj2867"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj2870"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj2873"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker><marker refY="2.5" refX="2.5" orient="auto" markerWidth="5" markerHeight="5" id="raphael-marker-endblock55-obj2879"><use stroke="none" fill="#000" stroke-width="1.0000" transform="rotate(180 2.5 2.5) scale(1,1)" xlink:href="#raphael-marker-block"></use></marker></defs><rect stroke-width="2" style="" stroke="#000000" fill="none" ry="0" rx="0" height="38.5" width="78.5999984741211" y="20" x="10"></rect><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="18.5" width="58.599998474121094" y="30" x="20"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="39.25" x="49.29999923706055" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.75">run.sh</tspan></text><rect stroke-width="2" style="" stroke="#000000" fill="none" ry="0" rx="0" height="38.5" width="78.5999984741211" y="396.5" x="10"></rect><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="18.5" width="58.599998474121094" y="406.5" x="20"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="415.75" x="49.29999923706055" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.75">run.sh</tspan></text><path stroke-width="2" d="M49.29999923706055,58.5L49.29999923706055,396.5" stroke="#000000" fill="none" style=""></path><rect stroke-width="2" style="" stroke="#000000" fill="none" ry="0" rx="0" height="38.5" width="155.39999389648438" y="20" x="174.99999618530273"></rect><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="18.5" width="135.39999389648438" y="30" x="185"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="39.25" x="252.69999313354492" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.75">Cepheus Broker</tspan></text><rect stroke-width="2" style="" stroke="#000000" fill="none" ry="0" rx="0" height="38.5" width="155.39999389648438" y="396.5" x="174.99999618530273"></rect><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="18.5" width="135.39999389648438" y="406.5" x="185"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="415.75" x="252.69999313354492" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.75">Cepheus Broker</tspan></text><path stroke-width="2" d="M252.69999313354492,58.5L252.69999313354492,396.5" stroke="#000000" fill="none" style=""></path><rect stroke-width="2" style="" stroke="#000000" fill="none" ry="0" rx="0" height="38.5" width="126.5999984741211" y="20" x="392.79998779296875"></rect><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="18.5" width="106.5999984741211" y="30" x="402.79998779296875"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="39.25" x="456.0999870300293" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.75">Cepheus CEP</tspan></text><rect stroke-width="2" style="" stroke="#000000" fill="none" ry="0" rx="0" height="38.5" width="126.5999984741211" y="396.5" x="392.79998779296875"></rect><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="18.5" width="106.5999984741211" y="406.5" x="402.79998779296875"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="415.75" x="456.0999870300293" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.75">Cepheus CEP</tspan></text><path stroke-width="2" d="M456.0999870300293,58.5L456.0999870300293,396.5" stroke="#000000" fill="none" style=""></path><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="18.5" width="173.8000030517578" y="74.25" x="165.8000030517578"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="83.5" x="252.69999313354492" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.75">POST /admin/config</tspan></text><path stroke-dasharray="0" marker-end="url(#raphael-marker-endblock55-obj2858)" stroke-width="2" d="M49.29999923706055,97C49.29999923706055,97,404.60792352695717,97,451.10329643208036,97" stroke="#000000" fill="none" style=""></path><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="18.5" width="164.1999969482422" y="112.75" x="272.29998779296875"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="122" x="354.3999900817871" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.75">subscribe(Room.*)</tspan></text><path stroke-dasharray="0" marker-end="url(#raphael-marker-endblock55-obj2861)" stroke-width="2" d="M456.0999870300293,135.5C456.0999870300293,135.5,288.9597791162323,135.5,257.7026015620408,135.5" stroke="#000000" fill="none" style=""></path><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="18.5" width="183.39999389648438" y="151.25" x="59.29999923706055"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="160.5" x="150.99999618530273" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.75">update(Room11, 22°)</tspan></text><path stroke-dasharray="0" marker-end="url(#raphael-marker-endblock55-obj2864)" stroke-width="2" d="M49.29999923706055,174C49.29999923706055,174,216.44020715085753,174,247.69738470504907,174" stroke="#000000" fill="none" style=""></path><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="18.5" width="183.39999389648438" y="189.75" x="262.6999816894531"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="199" x="354.3999900817871" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.75">notify(Room11, 22°)</tspan></text><path stroke-dasharray="0" marker-end="url(#raphael-marker-endblock55-obj2867)" stroke-width="2" d="M252.69999313354492,212.5C252.69999313354492,212.5,419.8402010473419,212.5,451.0973786015334,212.5" stroke="#000000" fill="none" style=""></path><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="18.5" width="183.39999389648438" y="228.25" x="59.29999923706055"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="237.5" x="150.99999618530273" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.75">update(Room12, 24°)</tspan></text><path stroke-dasharray="0" marker-end="url(#raphael-marker-endblock55-obj2870)" stroke-width="2" d="M49.29999923706055,251C49.29999923706055,251,216.44020715085753,251,247.69738470504907,251" stroke="#000000" fill="none" style=""></path><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="18.5" width="183.39999389648438" y="266.75" x="262.6999816894531"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="276" x="354.3999900817871" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.75">notify(Room12, 24°)</tspan></text><path stroke-dasharray="0" marker-end="url(#raphael-marker-endblock55-obj2873)" stroke-width="2" d="M252.69999313354492,289.5C252.69999313354492,289.5,419.8402010473419,289.5,451.0973786015334,289.5" stroke="#000000" fill="none" style=""></path><rect stroke-width="2" style="" stroke="#000000" fill="none" ry="0" rx="0" height="28.5" width="222.1999969482422" y="309.5" x="344.9999885559082"></rect><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="18.5" width="212.1999969482422" y="314.5" x="349.9999694824219"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="323.75" x="456.0999870300293" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.75">computes floor average</tspan></text><rect style="" stroke="none" fill="#ffffff" ry="0" rx="0" height="18.5" width="183.39999389648438" y="353.75" x="262.6999816894531"></rect><text fill="#000000" stroke="none" font-size="16px" font-family="Andale Mono, monospace" text-anchor="middle" y="363" x="354.3999900817871" style="text-anchor: middle; font-family: Andale Mono,monospace; font-size: 16px;"><tspan dy="5.75">update(Floor1, 23°)</tspan></text><path stroke-dasharray="0" marker-end="url(#raphael-marker-endblock55-obj2879)" stroke-width="2" d="M456.0999870300293,376.5C456.0999870300293,376.5,288.9597791162323,376.5,257.7026015620408,376.5" stroke="#000000" fill="none" style=""></path></svg>